<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .block {
            width: 30%;
            border-width: medium;
            font-size: x-large;
            margin-bottom: inherit;
            background-color: aliceblue;
            font-weight: bold;
            padding: 1em;
        }
    </style>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
      $(window).on('load', function() {
        main();
      });

      function constructDigitHTML(digit) {
          var button = $("<button />")
            .addClass("block")
            .text("Play " + digit)
            .click(function() {
              play(digit);
            });

          var source = $("<source />")
            .attr("src", "https://px0asnk62c.execute-api.ap-northeast-1.amazonaws.com/prod/digit/" + digit)
            .attr("type", "audio/mpeg");
          var audio = $("<audio />")
            .attr("id", "audio-digit-" + digit)
            .append(source);
          $("body").append(button, audio);
      }

      function main() {
        for (var digit = 0; digit < 10; digit++) {
          constructDigitHTML(digit);
        }
      }

      function play(digit) {
        $("#audio-digit-" + digit)[0].play();
      }
    </script>
</head>
<body>

<h1 lang="ja" align="center">聴忍者</h1>

</body>
</html>
